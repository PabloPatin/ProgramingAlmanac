---
tags:
  - postgres
  - база_данных
---
# Согласованность 
При шардировании проблемно гарантировать изоляцию таблиц. Отдельные шарды будут согласованны, но между шардами согласованности не будет. Для согласованности между шардами использовать serializable или двухфазные транзакции (2PC).
## Eventual Consistency
Консистентность, в конечном итоге - модель согласованности данных, при которой в моменте система может быть несогласованной, но в конечном итоге придёт к нему
# Рекомендации к шардингу
Выбрать ключ шардирования
Выбрать оптимальное кол-во шардов
Управлять соединениями
Учесть возможную денормализацию
Тестирование системы
## Бесплатные варианты шардирования
### Ванильное партицирование + postgres_fdw
