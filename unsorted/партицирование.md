---
tags:
  - postgres
---
# Партицирование
Разбиение таблицы на несколько подтаблиц по определённому параметру
При использовании партицирования манипуляции с данными из подтаблиц происходят быстрее

Для создания партиций необходимо:
1) Создать основную таблицу и указать по какому столбцу будут производиться партиции
2) Создать таблицы секций

Каждая секция должна индексироваться отдельно (значит каждая секция должна иметь свой первичный ключ)
Преобразовать секцию в основную таблицу и наоборот нельзя
## Создание партиции
`CREATE TABLE name PARTITION OF main_table
`ALTER TABLE name ATTACH PARTITION`
## Удаление партиции
`ALTER TABLE DETACH PSRTITION` - отсоединение партиции от основной таблицы (данные копируются или удаляются?)
`DROP TABLE`
## Типы партиций
- По параметру
- По списку
- По хэшу
## Отсечение секций
SET enable_partition_pruning = on;  (default)
Позволяет сканировать только секции, если в запросе фигурирует ключ секционирования