---
tags:
  - база_данных
  - postgres
  - сервер
  - руководство
---
# Простое создание сервера
Для создания нового сервера в PostgreSQL необходимо сначала проинициализировать его:
```bash
initdb -D path/to/directory -U username -W
```
После этого у пользователя будет запрошен пароль для суперюзера сервера.

# Что такое сервер
Сервер в PostgreSQL является по сути кластером баз данных, внутри которого им проще обмениваться значениями. Кластер — это коллекция баз данных под управлением единого экземпляра сервера. 
Создание кластера баз данных заключается в создании каталогов для хранения данных, формировании общих системных таблиц (относящихся ко всему кластеру, а не к какой-либо базе) и создании баз данных `postgres`, `template1` и `template0`.

# Требования для создания сервера
Команда `initdb` должна выполняться от имени пользователя, под которым будет запускаться сервер, так как ему необходим полный доступ к файлам и каталогам, создаваемым `initdb`. Сервер не может запускаться от имени суперпользователя, поэтому выполнение команды `initdb` от его лица будет отклонено.
Новый кластер, созданный программой `initdb`, будет доступен только для владельца кластера. 
Ключ `--allow-group-access` позволяет разрешить чтение файлов в кластере всем пользователям, входящим в группу владельца кластера.



